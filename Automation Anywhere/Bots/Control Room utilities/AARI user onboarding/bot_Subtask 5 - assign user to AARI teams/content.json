{"triggers":[],"nodes":[{"uid":"9dac7c00-ed62-4048-bf7e-5cdee5a5550b","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"ae141cd9-0cad-4359-a29d-a21b8ac66866","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"b8162678-9ee8-4843-a88b-b303e7c35215","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"93a7f663-86f7-40fb-92bd-491f0ef439c6","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// no AARI teams provided - exit"}}]},{"uid":"ddf54f69-faea-400c-8a40-f8ac289e4c8b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"No AARI teams provided for this user"}}],"returnTo":{"type":"VARIABLE","variableName":"strStatus"}},{"uid":"56609ee6-4a02-416c-8829-0eb407c39255","commandName":"stopTask","packageName":"TaskBot","disabled":false}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$tblUsers[$numTblUsersRowIndex$]{\"AARI teams\"}.String:trim.String:length$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"NUMBER","number":"0"}}],"value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Check if team assignment is required for this user"}}]},{"uid":"2a00927d-4491-4c6f-9507-2db10011c3ba","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// get list of team names required for this user"}}]},{"uid":"890bd191-b878-478d-bde5-5d22298f6aa9","commandName":"split","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$tblUsers[$numTblUsersRowIndex$]{\"AARI teams\"}.String:trim$"}},{"name":"delimiter","value":{"type":"STRING","string":","}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"substrings","value":{"type":"STRING","string":"ALL"}}],"returnTo":{"type":"VARIABLE","variableName":"listUserTeamNames"}},{"uid":"cb781295-3823-40d5-9ba0-6e618a918b5b","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"92f80dfb-e0c9-4746-b650-be355d1c5d74","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"394ce207-a11b-4f2d-800d-0a4a59b79c13","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// fetch team ID from dictionary containing team names and IDs"}}]},{"uid":"0236f111-4aaa-4a8f-88e2-11966f7e9abe","commandName":"get","packageName":"Dictionary","disabled":false,"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"dictTeamIds"}},{"name":"key","value":{"type":"STRING","expression":"$strTeamName.String:trim$"}}],"returnTo":{"type":"VARIABLE","variableName":"numTeamId"}},{"uid":"7c2052dd-991d-4ba6-bca0-9b4899215cdc","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// add user to existing team or create new team"}}]},{"uid":"b295b735-ac00-4cf4-a72b-17f9f0af32de","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"cadf42ee-56be-4b0c-adae-c8b79e2b6d07","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"600467c0-33ec-42d4-8e91-ae079efc4814","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// get team details"}}]},{"uid":"d496985a-f4c4-4744-8731-6f29e8359d3c","commandName":"GetTeamDetails","packageName":"AARI_user_onboarding","disabled":false,"attributes":[{"name":"sessionTypeInput","value":{"type":"STRING","string":"BOT_RUNNER_SESSION"}},{"name":"teamIdInput","value":{"type":"NUMBER","expression":"$numTeamId$"}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"description","value":{"type":"VARIABLE","variableName":"strTeamDescription"}},{"key":"members","value":{"type":"VARIABLE","variableName":"listTeamMembers"}},{"key":"processes","value":{"type":"VARIABLE","variableName":"listTeamProcesses"}}]}},{"uid":"74dc73fe-94a3-49ba-8b3a-b59733c5f9be","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// extract team member IDs into list"}}]},{"uid":"09b64198-7f72-44ad-b988-3472f98c7131","commandName":"clear","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"listTeamMemberIds"}}]},{"uid":"fed5113e-1b7f-4e5e-a2bd-3620e7f98651","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"d0573ce9-493d-44a0-9df2-6430e8077054","commandName":"get","packageName":"Dictionary","disabled":false,"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"dictTeamMember"}},{"name":"key","value":{"type":"STRING","string":"id"}}],"returnTo":{"type":"VARIABLE","variableName":"numTeamMemberId"}},{"uid":"2fce8c12-7e22-4318-bf39-b731790ac909","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"listTeamMemberIds"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"numTeamMemberId"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"dictTeamMember"},"attributes":[{"name":"list","value":{"type":"VARIABLE","variableName":"listTeamMembers"}},{"name":"forOptions","value":{"type":"STRING","string":"all"}}],"value":{"type":"ITERATOR","iteratorName":"list.iterators.list","packageName":"List"}}]},{"uid":"6acf2b55-f2f5-4694-9e5b-cb73174814a4","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// add user ID to list of team members"}}]},{"uid":"fb3170df-8bca-4272-9ae7-33fd6b34f41c","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"listTeamMemberIds"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"numUserId"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"c1416f92-f837-40ec-8fc4-fa54342c665b","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// extract process IDs into list"}}]},{"uid":"a2043259-e2f5-4865-9264-05d542d7d3e4","commandName":"clear","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"listTeamProcesses"}}]},{"uid":"3c388203-10df-4d89-805b-450473cf4098","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"4913d469-2936-4056-acf8-d47485e633ab","commandName":"get","packageName":"Dictionary","disabled":false,"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"dictProcess"}},{"name":"key","value":{"type":"STRING","string":"id"}}],"returnTo":{"type":"VARIABLE","variableName":"numProcessId"}},{"uid":"4d010000-3777-4c89-b902-5202132e8519","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"listTeamProcessIds"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"numProcessId"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"dictProcess"},"attributes":[{"name":"list","value":{"type":"VARIABLE","variableName":"listTeamProcesses"}},{"name":"forOptions","value":{"type":"STRING","string":"all"}}],"value":{"type":"ITERATOR","iteratorName":"list.iterators.list","packageName":"List"}}]},{"uid":"58eb0e9e-f163-4d1d-8ee0-3b2c4dda2511","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// call API to update team"}}]},{"uid":"e74ba76d-383a-47fd-bab6-cf9fe080e888","commandName":"UpdateTeam","packageName":"AARI_user_onboarding","disabled":false,"attributes":[{"name":"sessionTypeInput","value":{"type":"STRING","string":"BOT_RUNNER_SESSION"}},{"name":"teamIdInput","value":{"type":"NUMBER","expression":"$numTeamId$"}},{"name":"teamName","value":{"type":"STRING","expression":"$strTeamName$"}},{"name":"teamDescription","value":{"type":"STRING","expression":"$strTeamDescription$"}},{"name":"teamMemberIdsInput","value":{"type":"LIST","expression":"$listTeamMemberIds$"}},{"name":"processIdsInput","value":{"type":"LIST","expression":"$listTeamProcessIds$"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Team exists - update team to add user"}}]}],"branches":[{"uid":"2d6a0c78-00de-4d85-a993-e105b3bf0bfe","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"a3576e12-8f12-4563-9b79-ff71d6654d50","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"5aac9099-709f-426f-b41d-cc223d3bf55e","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// call API to create new team using team name and user's ID"}}]},{"uid":"6170a544-e2a5-473d-90d7-90a85dbce8de","commandName":"clear","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"listTeamMemberIds"}}]},{"uid":"68bc5c1f-40c4-44d1-b80d-3f1f69169986","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"listTeamMemberIds"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"numUserId"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"55fb8cd4-0956-4922-b64a-08a66bb97e16","commandName":"CreateTeam","packageName":"AARI_user_onboarding","disabled":false,"attributes":[{"name":"sessionTypeInput","value":{"type":"STRING","string":"BOT_RUNNER_SESSION"}},{"name":"teamName","value":{"type":"STRING","expression":"$strTeamName.String:trim$"}},{"name":"teamDescription","value":{"type":"STRING","string":""}},{"name":"teamMemberIdsInput","value":{"type":"LIST","expression":"$listTeamMemberIds$"}},{"name":"processIdsInput","value":{"type":"LIST","list":[]}}]},{"uid":"f6d5cf31-ef23-4722-a91d-ec9f7ef41436","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// refresh dictionary containing team names and IDs"}}]},{"uid":"1eeeafc9-defe-4d21-a21b-9cd5b1e5a72f","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/Control%20Room%20utilities/AARI%20user%20onboarding/Subtask%203%20-%20get%20AARI%20team%20names%20and%20IDs"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"dictTeamIds","value":{"type":"VARIABLE","variableName":"dictTeamIds"}}]}}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Team does not exist - create it"}}]}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$numTeamId$"}},{"name":"operator","value":{"type":"STRING","string":"GT"}},{"name":"value","value":{"type":"NUMBER","number":"0"}}],"value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"strTeamName"},"attributes":[{"name":"list","value":{"type":"VARIABLE","variableName":"listUserTeamNames"}},{"name":"forOptions","value":{"type":"STRING","string":"all"}}],"value":{"type":"ITERATOR","iteratorName":"list.iterators.list","packageName":"List"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Add the user to required teams; if a team does not exist, create it"}}]},{"uid":"46984b84-9dea-4620-83d2-0e75900ff98a","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"// set status"}}]},{"uid":"e03208db-080f-4641-83b7-574e37066b3d","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"ca31f7d1-1053-44e0-a705-e3f2719f9b23","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"User added to 1 team successfully"}}],"returnTo":{"type":"VARIABLE","variableName":"strStatus"}}],"branches":[{"uid":"c7ceedff-158d-4583-a7cb-a980b703470d","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"e1ebedcf-070a-4e6f-a48f-4bad62350327","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"User added to $listUserTeamNames.List:size.Number:toString$ teams successfully"}}],"returnTo":{"type":"VARIABLE","variableName":"strStatus"}}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$listUserTeamNames.List:size$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"NUMBER","number":"1"}}],"value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]},{"uid":"89af68d5-5cb7-4189-a638-cc1c9c7dc949","commandName":"assign","packageName":"Boolean","disabled":false,"attributes":[{"name":"source","value":{"type":"STRING","string":"constant"}},{"name":"userDefined","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"isUserAssigned"}}],"branches":[{"uid":"4977f6b3-2c93-4809-8659-7e6d91ccbdf8","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"2e08e9a0-99b4-4cff-8671-2d9feaf95047","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Unexpected error encountered during assignment of user to team at line $numErrorLineNumber.Number:toString$: $strErrorMessage$"}}],"returnTo":{"type":"VARIABLE","variableName":"strStatus"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"strErrorMessage"},"errorLineNumber":{"type":"VARIABLE","variableName":"numErrorLineNumber"}}}]}],"variables":[{"name":"tblUsers","description":"","type":"TABLE","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"TABLE","table":{"schema":[{"type":"STRING"}],"rows":[{"values":[{"type":"STRING","string":""}]}]}}},{"name":"numTblUsersRowIndex","description":"","type":"NUMBER","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"isUserAssigned","description":"","type":"BOOLEAN","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"BOOLEAN","boolean":false}},{"name":"strStatus","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"numUserId","description":"","type":"NUMBER","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"numErrorLineNumber","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"NUMBER","number":"0"}},{"name":"strErrorMessage","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"dictTeamIds","description":"","type":"DICTIONARY","readOnly":false,"input":true,"output":true,"subtype":"NUMBER","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"numTeamId","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"strTeamName","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"listUserTeamNames","description":"","type":"LIST","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"LIST","list":[]}},{"name":"strTeamDescription","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"listTeamMembers","description":"","type":"LIST","readOnly":false,"input":false,"output":false,"subtype":"ANY","defaultValue":{"type":"LIST","list":[]}},{"name":"listTeamProcesses","description":"","type":"LIST","readOnly":false,"input":false,"output":false,"subtype":"ANY","defaultValue":{"type":"LIST","list":[]}},{"name":"listTeamMemberIds","description":"","type":"LIST","readOnly":false,"input":false,"output":false,"subtype":"NUMBER","defaultValue":{"type":"LIST","list":[]}},{"name":"dictTeamMember","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"ANY","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"numTeamMemberId","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"dictProcess","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"ANY","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"numProcessId","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"listTeamProcessIds","description":"","type":"LIST","readOnly":false,"input":false,"output":false,"subtype":"NUMBER","defaultValue":{"type":"LIST","list":[]}},{"name":"listFilePaths","description":"","type":"LIST","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"LIST","list":[]}},{"name":"strPathToExcelFile","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dictRoles","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"NUMBER","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"isUserCreated","description":"","type":"BOOLEAN","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"BOOLEAN","boolean":false}},{"name":"strStatusUserCreation","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"strStatusTeamAssignment","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}}],"breakpoints":[],"packages":[{"name":"AARI_user_onboarding","version":"1.16.2-20210514-032708"},{"name":"Boolean","version":"2.1.0-20210227-025413"},{"name":"Comment","version":"2.5.0-20210227-025428"},{"name":"Dictionary","version":"3.3.0-20210227-025441"},{"name":"ErrorHandler","version":"2.5.0-20210227-025450"},{"name":"If","version":"2.1.0-20210227-025501"},{"name":"List","version":"2.3.0-20210227-025719"},{"name":"Loop","version":"2.2.0-20210227-025721"},{"name":"Number","version":"2.3.0-20210227-025737"},{"name":"Step","version":"2.0.1-20210304-145803"},{"name":"String","version":"3.3.0-20210227-030040"},{"name":"TaskBot","version":"2.0.1-20210210-232054"}],"migrationJournalReviewIds":[],"workItemTemplateName":null}